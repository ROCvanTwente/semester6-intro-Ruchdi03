@{
    ViewData["Title"] = "Cijferwijzigingen Overzicht";
}

<div class="container mt-4">
    <h2>Cijferwijzigingen</h2>

    <div class="card">
        <div class="card-body">
            <table id="cijferTable" class="table table-striped table-bordered" style="width:100%">
                <thead class="thead-dark">
                    <tr>
                        <th>Student ID</th>
                        <th>Vak ID</th>
                        <th>Toets ID</th>
                        <th>Oud Cijfer</th>
                        <th>Nieuw Cijfer</th>
                        <th>Wijzigingsdatum</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Data wordt via JavaScript ingeladen -->
                </tbody>
            </table>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap4.min.css">
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap4.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#cijferTable').DataTable({
                "ajax": {
                    "url": "https://localhost:7161/api/CijferWijzigingen",
                    "dataSrc": ""
                },
                "columns": [                    
                    { "data": "studentId" },
                    { "data": "vakId" },
                    { "data": "toetsId" },
                    { "data": "oudCijfer" },
                    { "data": "nieuwCijfer" },
                    {
                        "data": "wijzigingsDatum",
                        "render": function(data) {
                            return new Date(data).toLocaleString();
                        }
                    }
                ],
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.11.5/i18n/nl-NL.json"
                }
            });
        });
    </script>
}